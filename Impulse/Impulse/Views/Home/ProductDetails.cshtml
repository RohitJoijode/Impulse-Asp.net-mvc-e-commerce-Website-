@model Impulse.DAL.UsersModel
@{
    Layout = null;
}
<!DOCTYPE HTML>
<html lang="en">
<!-- Mirrored from bootstrap-ecommerce.com/bootstrap5-ecommerce/page-item-detail.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Oct 2022 05:57:00 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <!-- Sweet Alert CDN Link -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <!-- Sweet Alert CDN Link -->
    <style>
        /*/Start for Model gave Star CSS */
        /* Rating Star Widgets Style */
        .rating-stars ul {
            list-style-type: none;
            padding: 0;
            -moz-user-select: none;
            -webkit-user-select: none;
        }

            .rating-stars ul > li.star {
                display: inline-block;
            }

                /* Idle State of the stars */
                .rating-stars ul > li.star > i.fa {
                    font-size: 2.5em; /* Change the size of the stars */
                    color: #ccc; /* Color on idle state */
                }

                /* Hover state of the stars */
                .rating-stars ul > li.star.hover > i.fa {
                    color: #FFCC36;
                }

                /* Selected state of the stars */
                .rating-stars ul > li.star.selected > i.fa {
                    color: #FF912C;
                }
        /*END for Model gave Star CSS*/
    </style>
    <link href="~/assets2/css/bootstrap3661.css" rel="stylesheet" />
    <link href="~/assets2/css/bootstrapc3db.css" rel="stylesheet" />
    <link href="~/assets2/css/responsive3661.css" rel="stylesheet" />
    <link href="~/assets2/css/responsivec3db.css" rel="stylesheet" />
    <link href="~/assets2/css/ui3661.css" rel="stylesheet" />
    <link href="~/assets2/css/uic3db.css" rel="stylesheet" />
    <link href="~/assets2/fonts/fontawesome/css/all.min.css" rel="stylesheet" />
    <script src="~/assets2/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets2/js/script3661.js"></script>
    <script src="~/assets2/plugins/fslightbox.js"></script>
    <!--Start Jquery UI CDN Link-->
    <script src="jquery-3.6.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!--End Jquery UI CDN Link-->
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    '../../www.googletagmanager.com/gtm5445.html?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-M2TXFLD');</script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Type some info">
    <meta name="author" content="Type name">

    <title>Website layout sample </title>

    <!-- Bootstrap css -->
    <link href="css/bootstrap3661.css?v=2.0" rel="stylesheet" type="text/css" />

    <!-- Custom css -->
    <link href="css/ui3661.css?v=2.0" rel="stylesheet" type="text/css" />
    <link href="css/responsive3661.css?v=2.0" rel="stylesheet" type="text/css" />

    <!-- Font awesome 5 -->
    <link href="fonts/fontawesome/css/all.min.css" type="text/css" rel="stylesheet">
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M2TXFLD"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header class="section-header">
        @{Html.RenderPartial("~/Views/Shared/_ECommerceHeaderLayout.cshtml");}
    </header> <!-- section-header end.// -->
    <!-- ============== SECTION PAGETOP ============== -->

    <section class="bg-primary padding-y-sm">
        @*<div class="container">

                <ol class="breadcrumb ondark mb-0">
                    <li class="breadcrumb-item"><a href="/Home/HomePage">Home</a></li>
                    <li class="breadcrumb-item"><a href="/Home/Products">Cotton Nighty</a></li>
                    <li class="breadcrumb-item"><a href="/Home/ProductDetails">Product Details</a></li>
                </ol>

            </div>*@ <!-- container //  -->
    </section>

    <!-- ============== SECTION PAGETOP END// ============== -->
    <!-- ============== SECTION CONTENT ============== -->
    <div id="SubCategoryPageGridId">

    </div>
    <!-- ============== SECTION CONTENT END// ============== -->
    <!-- ============== SECTION  ============== -->
    <!-- ==============Begin Showing Modal For Given Star// ============== -->
    <div class="container">
        <div class="modal" id="myModal" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content shadow">
                    <div class="modal-header">
                        <h5 class="modal-title">Your Review</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <section class='rating-widget'>
                            <!-- Rating Stars Box -->
                            <div class='rating-stars text-center'>
                                <ul id='stars'>
                                    <li class='star' name="stars" title='Poor' data-value='1'>
                                        <i class='fa fa-star fa-fw'></i>
                                    </li>
                                    <li class='star' name="stars" title='Fair' data-value='2'>
                                        <i class='fa fa-star fa-fw'></i>
                                    </li>
                                    <li class='star' name="stars" title='Good' data-value='3'>
                                        <i class='fa fa-star fa-fw'></i>
                                    </li>
                                    <li class='star' name="stars" title='Excellent' data-value='4'>
                                        <i class='fa fa-star fa-fw'></i>
                                    </li>
                                    <li class='star' name="stars" title='WOW!!!' data-value='5'>
                                        <i class='fa fa-star fa-fw'></i>
                                    </li>
                                </ul>
                            </div>
                            <div class='success-box'>
                                <div class='clearfix'></div>
                                <div style="color:red;" class='text-message'></div>
                                <div class='clearfix'></div>
                            </div>
                        </section>
                        <div class="row g-2 mb-3">
                            <div class="col">
                                <textarea type="text" class="form-control" id="ReviewMessageId" placeholder="Write Review Here" aria-label="Write Review"></textarea>
                                <div style="color:red;" class='ReviewErrorMessageClass'></div>
                            </div>
                            <div class="col-3">
                                <button class="btn btn-primary" onclick="SaveReview();">Add</button>
                            </div>
                        </div>
                    </div> <!-- modal-body.// -->
                </div> <!-- modal-content.// -->
            </div> <!-- modal-dialog.// -->
        </div>
    </div>
    <!-- ==============End Showing Modal For Given Star// ============== -->
    <!-- ==============Begin Showing Modal For Image deep Display// ============== -->
    <div class="container">
        <div class="modal" id="myImageModal" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-xl">
                <div class="modal-content shadow">
                    <div class="modal-header">
                        <h5 class="modal-title">Images</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="ImageDisplayModelId">
                        
                    </div> <!-- modal-body.// -->
                </div> <!-- modal-content.// -->
            </div> <!-- modal-dialog.// -->
        </div>
    </div>
    <!-- ==============End Showing Modal For Image deep Display// ============== -->
    <!-- =============== SECTION  END// ============== -->
    <footer class="section-footer bg-primary footer-dark">
        <div class="container">
            <section class="footer-main padding-y">
                <div class="row">
                    <aside class="col-12 col-sm-12 col-lg-3">
                        <article class="me-lg-4">
                            <img src="images/logo-white.webp" class="logo-footer">
                            <p class="mt-3"> © 2018- 2021 Templatemount. <br> All rights reserved. </p>
                        </article>
                    </aside>
                    <aside class="col-6 col-sm-4 col-lg-2">
                        <h6 class="title">Store</h6>
                        <ul class="list-menu">
                            <li> <a href="#">About us</a></li>
                            <li> <a href="#">Find store</a></li>
                            <li> <a href="#">Categories</a></li>
                            <li> <a href="#">Blogs</a></li>
                        </ul>
                    </aside>
                    <aside class="col-6 col-sm-4 col-lg-2">
                        <h6 class="title">Information</h6>
                        <ul class="list-menu">
                            <li> <a href="#">Help center</a></li>
                            <li> <a href="#">Money refund</a></li>
                            <li> <a href="#">Shipping info</a></li>
                            <li> <a href="#">Refunds</a></li>
                        </ul>
                    </aside>
                    <aside class="col-6 col-sm-4  col-lg-2">
                        <h6 class="title">Support</h6>
                        <ul class="list-menu">
                            <li> <a href="#"> Help center </a></li>
                            <li> <a href="#"> Documents </a></li>
                            <li> <a href="#"> Account restore </a></li>
                            <li> <a href="#"> My Orders </a></li>
                        </ul>
                    </aside>
                    <aside class="col-12 col-sm-12 col-lg-3">
                        <h6 class="title">Newsletter</h6>
                        <p>Stay in touch with latest updates about our products and offers </p>

                        <form class="mb-3">
                            <div class="input-group">
                                <input class="form-control" type="text" placeholder="Email">
                                <button class="btn btn-light" type="submit">
                                    Join
                                </button>
                            </div> <!-- input-group.// -->
                        </form>
                    </aside>
                </div> <!-- row.// -->
            </section>  <!-- footer-top.// -->
            <hr class="my-0">
            <section class="footer-bottom d-flex justify-content-lg-between">
                <div>
                    <i class="fab fa-lg fa-cc-visa"></i>
                    <i class="fab fa-lg fa-cc-amex"></i>
                    <i class="fab fa-lg fa-cc-mastercard"></i>
                    <i class="fab fa-lg fa-cc-paypal"></i>
                </div>
                <nav class="dropup">
                    <button class="dropdown-toggle btn text-white d-flex align-items-center py-0" type="button" data-bs-toggle="dropdown">
                        <img src="images/flags/flag-usa.webp" class="me-2" height="20">
                        <span>English</span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="#">Russian</a></li>
                        <li><a class="dropdown-item" href="#">Arabic</a></li>
                        <li><a class="dropdown-item" href="#">Spanish</a></li>
                    </ul>
                </nav>

            </section>
        </div> <!-- container end.// -->
    </footer>

    <!-- Bootstrap js -->
    <script src="js/bootstrap.bundle.min.js"></script>

    <!-- plugin -->
    <script src="plugins/fslightbox.js"></script>

    <!-- Custom js -->
    <script src="js/script3661.js?v=2.0"></script>

</body>

<!-- Mirrored from bootstrap-ecommerce.com/bootstrap5-ecommerce/page-item-detail.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Oct 2022 05:57:02 GMT -->
</html>
<script>

    $(document).ready(function () {

        /* 1. Visualizing things on Hover - See next part for action on click */
        $('#stars li').on('mouseover', function () {
            var onStar = parseInt($(this).data('value'), 10); // The star currently mouse on

            // Now highlight all the stars that's not after the current hovered star
            $(this).parent().children('li.star').each(function (e) {
                if (e < onStar) {
                    $(this).addClass('hover');
                }
                else {
                    $(this).removeClass('hover');
                }
            });

        }).on('mouseout', function () {
            $(this).parent().children('li.star').each(function (e) {
                $(this).removeClass('hover');
            });
        });


        /* 2. Action to perform on click */
        $('#stars li').on('click', function () {
            var onStar = parseInt($(this).data('value'), 10); // The star currently selected
            var stars = $(this).parent().children('li.star');

            for (i = 0; i < stars.length; i++) {
                $(stars[i]).removeClass('selected');
            }

            for (i = 0; i < onStar; i++) {
                $(stars[i]).addClass('selected');
            }

            // JUST RESPONSE (Not needed)
            var ratingValue = parseInt($('#stars li.selected').last().data('value'), 10);
            var msg = "";
            if (ratingValue > 1) {
                msg = "Thanks! You rated this " + ratingValue + " stars.";
            }
            else {
                msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
            }
            responseMessage(msg);

        });
    });

     function responseMessage(msg) {
        $('.success-box').fadeIn(200);
         $('.success-box div.text-message').html("<strong>" + msg + "</strong>");
    }

    var SubCategoryColorId = @Html.Raw(Json.Encode(Model.SubCategoryColorId));
    var UserId = @Html.Raw(Json.Encode(Model.UserId));
    var SubCategoryId = @Html.Raw(Json.Encode(Model.SubCategoryId));
    if (UserId == null) {
        UserId = 0;
    }

    if (SubCategoryColorId == null) {
        SubCategoryColorId = 0;
    }

    if (SubCategoryId == null) {
        SubCategoryId = 0;
    }

    $(document).ready(function () {
        $.ajax({
            type: "POST",
            url: "/Category/SubCategoryPartialPage?SubCategoryId=" + SubCategoryId + '&SubCategoryColorId=' + SubCategoryColorId,
            dataType: "html",
            success: function (response) {
                debugger
                $('#SubCategoryPageGridId').empty();
                $('#SubCategoryPageGridId').html(response);
            },
        });
    });

    function SaveReview() {
        debugger;
        var SubCategoryReviewAndStarsModel = {};
        SubCategoryReviewAndStarsModel.ReviewMessage = $('textarea#ReviewMessageId').val();
        SubCategoryReviewAndStarsModel.GivenStars = parseInt($('#stars li.selected').last().data('value'), 10);
        if (isNaN(SubCategoryReviewAndStarsModel.GivenStars)) {
            $('.success-box div.text-message').html("<strong>" + "Please Give Some Rate..." + "</strong>");
            return false;
        }
        SubCategoryReviewAndStarsModel.UserId = UserId;
        SubCategoryReviewAndStarsModel.Sub_CategoryId = SubCategoryId;
        if (isNaN(SubCategoryReviewAndStarsModel.GivenStars)) {
            SubCategoryReviewAndStarsModel.GivenStars = 0;
        }
         @*var baseUrl = '@Url.Action("SaveReview","Category")';
        var queryString = $.param(SubCategoryReviewAndStarsModel);
        window.location = baseUrl + '?' + queryString;*@
        $.ajax({
            type: "POST",
            url: "/Category/SaveReview",
            data: JSON.stringify(SubCategoryReviewAndStarsModel),
            contentType: "application/json;charset=utf-8",
            dataType: "html",
            success: function (response) {
                debugger
                alert('star response');
                console.log(response);
                if (response != null) {
                    $('#myModal').modal('hide');
                    $('#ReviewPartialGridId').empty();
                    $('#ReviewPartialGridId').html(response);
                }
            },
        });
    }

</script>
